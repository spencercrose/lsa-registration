(function(e){function t(t){for(var n,i,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/registration/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"001e":function(e,t,r){},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("1da1"),a=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("96cf"),r("2b0e")),s=r("2f62"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("header",[r("NavBar"),r("Message")],1),e.isLoggedIn?r("main",[r("div",{staticClass:"container mt-3"},[r("router-view")],1)]):e._e(),r("footer",[r("Footer")],1)])},o=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isLoggedIn&&e.isAdmin?r("b-sidebar",{staticStyle:{"z-index":"9999"},attrs:{id:"sidebar-profile",title:"Your Profile","backdrop-variant":"dark",backdrop:"",shadow:""}},[r("Profile")],1):e._e(),r("b-navbar",{staticStyle:{"z-index":"9990"},attrs:{fixed:"top",toggleable:"lg",type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{href:"/registration"}},[e._v(" Long Service Awards Registration ")]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":"",type:"dark",variant:"info"}},[r("b-navbar-nav",[r("li",[r("router-link",{staticClass:"nav-link",attrs:{to:"/",exact:""}},[e._v("Home")])],1),r("b-nav-item",{attrs:{href:"https://longserviceawards.gww.gov.bc.ca/"}},[e._v("About")])],1),e.isLoggedIn?r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item-dropdown",{staticClass:"btn btn-info text-light p-0",attrs:{right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[r("BIconPerson"),e._v(" "+e._s(e.user.username)+" ")]},proxy:!0}],null,!1,3110169670)},[e.isAdmin?r("b-dropdown-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-profile",modifiers:{"sidebar-profile":!0}}]},[e._v(" My Profile ")]):e._e(),r("b-dropdown-item",[r("router-link",{attrs:{to:"/submissions",exact:""}},[e._v("My Registration")])],1)],1)],1):e._e()],1)],1)],1)},c=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-table",{attrs:{stacked:"",items:[e.user],fields:["username","role","firstname","lastname","email"]}})],1)},d=[],p={name:"user-profile",components:{},computed:{user:function(){return this.$store.getters.getUser}}},m=p,f=r("2877"),g=Object(f["a"])(m,u,d,!1,null,null,null),v=g.exports,b=r("7386"),h={name:"navbar",components:{Profile:v,BIconPerson:b["o"]},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated},isAdmin:function(){return this.$store.getters.isAdmin},isSuperAdmin:function(){return this.$store.getters.isSuperAdmin},user:function(){return this.$store.getters.getUser},settings:function(){return this.$store.getters.getSettings}}},y=h,w=(r("b46d"),Object(f["a"])(y,l,c,!1,null,null,null)),x=w.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{staticClass:"p-1",attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[n("b-navbar-brand",{attrs:{href:"#"}},[n("img",{attrs:{height:"60px",src:r("e3cd"),alt:"Where Ideas Work"}})]),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-navbar-nav")],1)],1)],1)},k=[],A={name:"Footer",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}}},P=A,S=Object(f["a"])(P,_,k,!1,null,null,null),R=S.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-navbar",{staticClass:"p-0 m-0",staticStyle:{top:"60px"},attrs:{fixed:"top"}},[e.message.text?r("b-alert",{staticClass:"w-100",attrs:{show:"5",fade:"",variant:e.message.type,dismissible:e.message.dismissible},on:{dismissed:function(t){e.message={text:"",type:""}}}},[e.message.spinner?r("b-spinner",{staticClass:"ml-3",attrs:{small:"",label:"Saving..."}}):e._e(),e._v(" "+e._s(e.message.text)+" ")],1):e._e()],1)],1)},O=[],$={name:"global-message",computed:{message:{get:function(){return this.$store.getters.getMessage},set:function(e){this.$store.dispatch("setMessage",e)}}}},E=$,I=Object(f["a"])(E,C,O,!1,null,null,null),N=I.exports,j={name:"app",components:{NavBar:x,Message:N,Footer:R},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},mounted:function(){this.$store.dispatch("resetMessage")}},M=j,Y=(r("034f"),Object(f["a"])(M,i,o,!1,null,null,null)),z=Y.exports,D=r("8c4f"),q=(r("99af"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-jumbotron",{attrs:{header:"Welcome",lead:"Long Service Awards Registration"}}),r("b-container",[r("div",[r("b-card-group",{attrs:{deck:""}},[r("b-card",{attrs:{title:"Celebrating Your Service"},scopedSlots:e._u([{key:"footer",fn:function(){return[r("b-button",{attrs:{block:"",variant:"info"},on:{click:function(t){return e.reroute("/recipients/start")}}},[e._v(" Register for Your Long Service Award ")])]},proxy:!0}])},[r("b-card-text",[r("p",[e._v("The Long Service Awards celebrate the dedication and commitment of employees with 25, 30, 35, 40, 45 and 50 year careers in the BC Public Service.")]),r("p",[e._v("Long Service Award ceremonies are prestigious and memorable events held at Government House in Victoria, the official residence of B.C.â€™s Lieutenant Governor and the ceremonial home for all British Columbians.")])])],1)],1)],1)])],1)}),T=[],L={name:"Home",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated},user:function(){return this.$store.getters.getUser},settings:function(){return this.$store.getters.getSettings}},methods:{reroute:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$router.push(e);case 2:case"end":return r.stop()}}),r)})))()}}},B=L,U=Object(f["a"])(B,q,T,!1,null,null,null),V=U.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-not-found"},[r("b-jumbotron",{attrs:{header:"404",lead:"Page could not be found."}})],1)},F=[],W={},J=W,H=Object(f["a"])(J,G,F,!1,null,null,null),Z=H.exports,Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-unauthorized"},[r("b-jumbotron",{attrs:{header:"401 - Unauthorized",lead:"Please sign in to view access this site."}})],1)},X=[],K={},ee=K,te=Object(f["a"])(ee,Q,X,!1,null,null,null),re=te.exports,ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("pageheader",{attrs:{header:"Registration",lead:"Your Profile Information"}}),r("RegProgress",{attrs:{active:"identification"}}),0===Object.keys(e.identification).length?r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v(" Please wait while your registration is loaded... ")]):r("b-form",[r("b-card",{staticClass:"mb-3 mt-3",attrs:{header:"Profile Details","header-tag":"header","header-class":"font-weight-bold","bg-variant":"light"}},[r("b-form-group",[r("b-form-group",{attrs:{id:"fieldset-identification-fullName",label:"Full Name","label-for":"input-identification-fullName"}},[r("b-form-input",{attrs:{id:"input-identification-fullName",placeholder:"Your first and last name",state:e.validate("fullName")},model:{value:e.identification.fullName,callback:function(t){e.$set(e.identification,"fullName",t)},expression:"identification.fullName"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("fullName")}},[e._v(" This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-identification-employee-number",label:"Employee Number","label-for":"input-identification-employee-number"}},[r("b-form-input",{attrs:{id:"input-identification-employee-number",placeholder:"Your employee number",state:e.validate("employeeNumber")},model:{value:e.identification.employeeNumber,callback:function(t){e.$set(e.identification,"employeeNumber",t)},expression:"identification.employeeNumber"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("employeeNumber")}},[e._v(" This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-identification-email",label:"Government Email","label-for":"input-identification-email"}},[r("b-form-input",{attrs:{id:"input-identification-email",placeholder:"Your employee email address",state:e.validate("email")},model:{value:e.identification.governmentEmail,callback:function(t){e.$set(e.identification,"governmentEmail",t)},expression:"identification.governmentEmail"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("email")}},[e._v(" Enter a valid email address. ")])],1),r("b-form-group",{attrs:{id:"fieldset-identification-government-phone",label:"Government Phone Number","label-for":"input-identification-government-phone"}},[r("b-form-input",{attrs:{id:"input-identification-government-phone",placeholder:"###-###-####"},model:{value:e.identification.governmentPhoneNumber,callback:function(t){e.$set(e.identification,"governmentPhoneNumber",t)},expression:"identification.governmentPhoneNumber"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("phone")}},[e._v(" Enter a valid phone number. ")])],1),r("b-form-group",{attrs:{id:"input-group-organization",label:"Government Ministry","label-for":"input-organization"}},[r("b-form-select",{attrs:{id:"input-organization",options:e.organizations,state:e.validate("organization")},model:{value:e.identification.organizationId,callback:function(t){e.$set(e.identification,"organizationId",t)},expression:"identification.organizationId"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("organization")}},[e._v(" This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-identification-branch",label:"Ministry Branch","label-for":"input-identification-branch"}},[r("b-form-input",{attrs:{id:"input-identification-branch",placeholder:"Your ministry branch"},model:{value:e.identification.branchName,callback:function(t){e.$set(e.identification,"branchName",t)},expression:"identification.branchName"}})],1)],1)],1),r("RegMenu",{attrs:{updater:this.updater}})],1)],1)},ae=[],se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-jumbotron",{attrs:{"header-level":"4",header:this.$props.header,lead:this.$props.lead}})],1)},ie=[],oe={name:"overview",props:{lead:String,header:String}},le=oe,ce=Object(f["a"])(le,se,ie,!1,null,null,null),ue=ce.exports;r("498a"),r("ac1f"),r("1276"),r("5319"),r("466d");var de=function(e){return!!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},pe=function(e){return!!String(e).toLowerCase().match(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4}$/im)},me=function(e){return!!String(e).toLowerCase().match(/^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ -]?\d[ABCEGHJ-NPRSTV-Z]\d$/i)},fe=(r("4de4"),r("d3b7"),r("e9c4"),r("d81d"),r("b0c0"),r("a4d3"),r("e01a"),r("bc3a")),ge=r.n(fe),ve=ge.a.create({baseURL:"https://premiersawards.gww.gov.bc.ca/registrations/api",headers:{"Content-Type":"application/json"}}),be=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ve.get("users/authenticate");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,r=t||{},n=r.data,a=void 0===n?{}:n,s=a||{},i=s.user,o=void 0===i?{}:i,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,i,o,l,c,u,d,p,m,f,g,v,b,h,y,w,x,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ve.get("recipients/".concat(t));case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return r=e.t0,n=r||{},a=n.data,s=void 0===a?{}:a,i=s||{},o=i.award,l=void 0===o?[]:o,c=i.personal_address,u=void 0===c?{}:c,d={},console.log("Loaded Registration:",s,"Milestone:",localStorage.getItem("milestone")),p=localStorage.getItem("milestone"),m=l.filter((function(e){return String(e.milestone)===String(p)})),f={awardId:null,options:{},type:null},m.length>0&&(g=m[0]||{},v=g.pivot,b=void 0===v?{}:v,h=b||{},y=h.award_id,w=void 0===y?null:y,x=h.options,_=void 0===x?"":x,f={awardId:w,options:JSON.parse(_)}),e.abrupt("return",{recipientId:s.id||null,metadata:{createdAt:s.create||null,updatedAt:s.updated_at||null,adminNotes:s.admin_notes||null},identification:{guid:s.guid||null,idir:s.idir||null,employeeNumber:s.employee_number||null,fullName:s.full_name||null,governmentEmail:s.government_email||null,governmentPhoneNumber:s.government_phone_number||null,organizationId:s.organization_id||null,branchName:s.branch_name||null},milestone:{selected:p,milestones:s.milestones||null,qualifyingYear:s.qualifying_year||null,isBCGEUMember:s.is_bcgeu_member||null},awardSelection:f,retirement:{retiringThisYear:s.retiring_this_year||0,retirementDate:s.retirement_date||null},servicePins:{supervisorAddressId:s.supervisor_address_id||null,supervisorPOBox:d.pobox||null,supervisorAddressPrefix:d.prefix||null,supervisorAddressStreetAddress:d.street_address||null,supervisorAddressPostalCode:d.postal_code||null,supervisorAddressCommunity:d.community||null,supervisorEmail:s.supervisor_email||null,supervisorFullName:s.supervisor_full_name||null},contact:{personalAddressId:u.id||null,personalAddressPrefix:u.prefix||null,personalAddressStreetAddress:u.street_address||null,personalAddressPostalCode:u.postal_code||null,personalAddressCommunity:u.community||null,personalEmail:s.personal_email||null,personalPhoneNumber:s.personal_phone_number||null},declarations:{isDeclared:s.is_declared||0,ceremonyOptOut:s.ceremony_opt_out||0,surveyParticipation:s.survey_participation||1}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t||{},n=r.identification,a=void 0===n?{}:n,e.next=3,ve.post("/recipients/identification",{guid:a.guid||null,idir:a.idir||null,employee_number:a.employeeNumber||null,full_name:a.fullName||null,government_email:a.governmentEmail||null,organization_id:a.organizationId||null,branch_name:a.branchName||null});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t||{},n=r.recipientId,a=void 0===n?null:n,s=r.milestone,i=void 0===s?{}:s,o=r.retirement,l=void 0===o?{}:o,localStorage.setItem("milestone",i.selected),e.next=4,ve.post("/recipients/".concat(a,"/milestone"),{milestones:i.selected||null,qualifying_year:i.qualifyingYear||null,is_bcgeu_member:i.isBCGEUMember||0,retiring_this_year:l.retiringThisYear||0});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t||{},n=r.recipientId,a=void 0===n?null:n,s=r.retirement,i=void 0===s?{}:s,e.next=3,ve.post("/recipients/".concat(a,"/retirement"),{retirement_date:i.retirementDate||null});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t||{},n=r.recipientId,a=void 0===n?null:n,s=r.awardSelection,i=void 0===s?{}:s,localStorage.setItem("award",i.awardId),e.next=4,ve.post("/recipients/".concat(a,"/award"),{award_id:i.awardId||null,options:JSON.stringify(i.options)||null,status:"selected"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t||{},n=r.recipientId,a=void 0===n?null:n,s=r.servicePins,i=void 0===s?{}:s,e.next=3,ve.post("/recipients/".concat(a,"/servicepins"),{supervisor_address_prefix:i.supervisorAddressPrefix||"",supervisor_address_street_address:i.supervisorAddressStreetAddress||"",supervisor_address_postal_code:i.supervisorAddressPostalCode||null,supervisor_address_community:i.supervisorAddressCommunity||"",supervisor_address_id:i.supervisorAddressId||null,supervisor_email:i.supervisorEmail||null,supervisor_full_name:i.supervisorFullName||null});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t||{},n=r.recipientId,a=void 0===n?null:n,s=r.contact,i=void 0===s?{}:s,e.next=3,ve.post("/recipients/".concat(a,"/contact"),{personal_address_id:i.personalAddressId||"",personal_address_prefix:i.personalAddressPrefix||"",personal_address_street_address:i.personalAddressStreetAddress||"",personal_address_postal_code:i.personalAddressPostalCode||"",personal_address_community:i.personalAddressCommunity||"",personal_email:i.personalEmail||"",personal_phone_number:i.personalPhoneNumber||""});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t||{},n=r.recipientId,a=void 0===n?null:n,s=r.declarations,i=void 0===s?{}:s,e.next=3,ve.post("/recipients/".concat(a,"/declarations"),{is_declared:i.isDeclared||0,survey_participation:i.surveyParticipation||1,ceremony_opt_out:i.ceremonyOptOut||0});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ve.get("milestones/".concat(t,"/awards"));case 2:return r=e.sent,n=r||{},a=n.data,s=void 0===a?[]:a,e.abrupt("return",s.map((function(e){return{id:e.id||"",name:e.name||"",shortName:e.short_name||"",description:e.description||"",imageUrl:e.image_url||""}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ve.get("pecsf/charities");case 2:return t=e.sent,e.next=5,ve.get("pecsf/regions");case 5:return r=e.sent,e.abrupt("return",{charities:t.data,regions:r.data});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ve.get("organizations/");case 2:return t=e.sent,e.abrupt("return",{organizations:(t.data||[]).map((function(e){return{id:e.id||"",name:e.name||"",shortName:e.short_name||"",orgType:e.org_type||""}}))});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{staticClass:"mb-3",attrs:{header:"Registration Progress: Step "+(e.activeIndex+1)+" / "+e.steps.length,"header-tag":"header"}},[r("b-progress",{staticClass:"mt-2",attrs:{max:e.steps.length}},[r("b-progress-bar",{attrs:{value:e.activeIndex,variant:"success",striped:!0}}),r("b-progress-bar",{attrs:{value:1,variant:"dark"}},[e._v(e._s(e.activeStep))])],1)],1)},$e=[],Ee=(r("159b"),r("caad"),r("2532"),{status:[{value:null,text:"Please select a registration status"},{value:"draft",text:"Draft"},{value:"submitted",text:"Submitted"}],roles:[{value:null,text:"Please select a user role"},{value:"administrator",text:"Administrator"},{value:"super-administrator",text:"Super-Administrator"}],"registration-steps":[{value:"identification",text:"Identification"},{value:"milestone",text:"Milestone"},{value:"retirement",text:"Retirement"},{value:"award-selection",text:"Award"},{value:"award-options",text:"Options"},{value:"service-pins",text:"Service Pin"},{value:"ceremony",text:"Ceremony"},{value:"contact",text:"Contact Info"},{value:"confirmation",text:"Confirmation"}],milestones:[{value:null,text:"Please select a milestone year"},{value:"25",text:"25"},{value:"30",text:"30"},{value:"35",text:"35"},{value:"40",text:"40"},{value:"45",text:"45"},{value:"50",text:"50"}],"qualifying-years":[{value:"2022",text:"2022"},{value:"2021",text:"2021"},{value:"2020",text:"2020"},{value:"2019",text:"2019"}],"award-options-bracelet-sizes":[{value:null,text:"Please select a bracelet size"},{value:"6",text:"6 inches"},{value:"7",text:"7 inches"},{value:"8",text:"8 inches"},{value:"9",text:"9 inches"}],"award-options-watch-sizes":[{value:null,text:"Please select a watch size"},{value:"26",text:"26mm"},{value:"30",text:"30mm"},{value:"36",text:"36mm"},{value:"48",text:"48mm"}],"award-options-watch-faces":[{value:null,text:"Please select a watch face"},{value:"square",text:"Square"},{value:"Round",text:"Round"}],"award-options-watch-straps":[{value:null,text:"Please select a watch strap"},{value:"leather",text:"Leather"},{value:"mesh",text:"Mesh"},{value:"canvas",text:"Canvas"},{value:"steel",text:"Stainless Steel"}]}),Ie={get:function(e){return"undefined"!==Ee[e]?Ee[e]:null},lookup:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ee;if(!r[e])return null;var n=r[e].filter((function(e){return e.value===t}));return n.length>0?n[0].text:null},getAwardType:function(e,t){var r=null;return t.forEach((function(t){t.id===e&&(r=t.shortName.includes("bracelet")?"bracelet":t.shortName.includes("watch")?"watch":t.shortName.includes("pecsf")?"pecsf":null)})),r},getAwardDetails:function(e,t){var r=t.filter((function(t){return t.id===e}));return r.length>0?r[0]:null}},Ne={name:"registration-progress",props:{active:String},computed:{steps:function(){var e=this.$store.getters.getRegistration;return Ie.get("registration-steps").filter((function(t){return"identification"===t.value||"milestone"===t.value||"retirement"===t.value&&e.retirement.retiringThisYear||"award-selection"===t.value||"award-options"===t.value&&e.awardSelection.options.type||"service-pins"===t.value||"ceremony"===t.value||"contact"===t.value&&e.declarations.ceremonyOptOut||"confirmation"===t.value}))},activeIndex:function(){var e=this,t=0;return this.steps.forEach((function(r,n){r.value===e.active&&(t=n)})),t},activeStep:function(){return Ie.lookup("registration-steps",this.$props.active)||""},registration:function(){return this.$store.getters.getRegistration},validation:function(){return this.$store.getters.getValidation}}},je=Ne,Me=(r("bdcd"),Object(f["a"])(je,Oe,$e,!1,null,null,null)),Ye=Me.exports,ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{staticClass:"text-center"},[r("b-button-group",{staticClass:"w-100"},[this.status.previous?r("b-button",{attrs:{variant:"dark"},on:{click:function(t){return e.previousSection()}}},[r("BIconCaretLeft"),e._v("Previous Section")],1):e._e(),r("b-button",{attrs:{variant:"info"},on:{click:function(t){return e.save()}}},[e._v(e._s(e.submitLabel||"Save Section")+" "),e.saving?r("b-spinner",{staticClass:"ml-3",attrs:{small:"",label:"Saving..."}}):e._e()],1),this.status.next?r("b-button",{attrs:{disabled:!e.sectionValidation,variant:e.sectionValidation?"dark":"secondary"},on:{click:function(t){return e.nextSection()}}},[e._v("Next Section"),r("BIconCaretRight")],1):e._e()],1)],1)},De=[],qe={name:"registration-navigation-menu",props:["updater","submitLabel"],components:{BIconCaretLeft:b["d"],BIconCaretRight:b["e"]},data:function(){return{saving:!1}},computed:{status:function(){return this.$store.getters.getStatus},sectionValidation:function(){return!!this.status.current&&this.$store.getters.getValidation[this.status.current]},registration:function(){return this.$store.getters.getRegistration||{}}},methods:{save:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.saving=!0,t.next=3,e.$store.dispatch("saveRegistration",e.$props.updater);case 3:e.saving=!1;case 4:case"end":return t.stop()}}),t)})))()},previousSection:function(){this.save(),this.$store.commit("resetMessage"),this.$router.push({name:this.status.previous})},nextSection:function(){this.save(),this.$store.commit("resetMessage"),this.$router.push({name:this.status.next})}}},Te=qe,Le=Object(f["a"])(Te,ze,De,!1,null,null,null),Be=Le.exports,Ue={name:"registration-step-identification",components:{pageheader:ue,RegProgress:Ye,RegMenu:Be},methods:{updater:ye},computed:{identification:{get:function(){return this.$store.getters.getRegistration.identification},set:function(e){this.$store.dispatch("setIdentification",e)}},organizations:function(){return this.$store.getters.getOrganizations},validate:function(){var e=this;return function(t){var r={fullName:function(){return!!e.identification.fullName&&e.identification.fullName.length>0},employeeNumber:function(){return!!e.identification.employeeNumber&&e.identification.employeeNumber.length>0},email:function(){return de(e.identification.governmentEmail)},phone:function(){return!e.identification.governmentPhoneNumber||pe(e.identification.governmentPhoneNumber)},organization:function(){return!!e.identification.organizationId}};return"undefined"!==r[t]&&!!r[t]()}},validation:function(){return this.$store.getters.getValidation.identification}},beforeCreate:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("setStatus",{current:"reg-step-identification",previous:null,next:"reg-step-milestone"}).catch((function(e){console.warn(e)}));case 2:case"end":return t.stop()}}),t)})))()}},Ve=Ue,Ge=Object(f["a"])(Ve,ne,ae,!1,null,null,null),Fe=Ge.exports,We=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("pageheader",{attrs:{header:"Registration",lead:"Your Award Milestone"}}),r("RegProgress",{attrs:{active:"milestone"}}),0===Object.keys(e.milestone).length?r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v(" Please wait while your milestone information is loaded... ")]):r("b-form",[r("b-card",{staticClass:"mb-3",attrs:{header:"Milestone Details","header-tag":"header","bg-variant":"light","header-class":"font-weight-bold"}},[r("b-form-group",[r("b-form-group",{staticClass:"mb-4",attrs:{id:"input-group-milestone",label:"Select Your Milestone","label-for":"input-milestone","label-class":"font-weight-bold"}},[r("b-form-select",{attrs:{id:"input-milestone",options:e.options.milestones,state:e.validate("milestone")},model:{value:e.milestone.selected,callback:function(t){e.$set(e.milestone,"selected",t)},expression:"milestone.selected"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("milestone")}},[e._v(" This field is required. ")])],1),r("b-form-group",{staticClass:"mb-4",attrs:{id:"fieldset-milestone-qualifying-year",label:"Qualifying Year","label-size":"md","label-class":"font-weight-bold","label-for":"input-milestone-qualifying-year"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.ariaDescribedby;return[r("p",[e._v("During which year did you reach your milestone?")]),e._l(e.options.qualifyingYears,(function(t,a){return r("b-form-radio",{key:a,attrs:{"aria-describedby":n,name:"input-milestone-qualifying-year",value:t.value,state:e.validate("qualifyingYear")},model:{value:e.milestone.qualifyingYear,callback:function(t){e.$set(e.milestone,"qualifyingYear",t)},expression:"milestone.qualifyingYear"}},[e._v(" "+e._s(t.text)+" ")])})),r("b-form-invalid-feedback",{attrs:{state:e.validate("qualifyingYear")}},[e._v(" This field is required. ")])]}}])})],1),r("b-form-group",{staticClass:"mb-4",attrs:{id:"fieldset-milestone-bcgeu",label:"Are you a BCGEU Member?","label-size":"md","label-class":"font-weight-bold","label-for":"input-milestone-bcgeu"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.ariaDescribedby;return[r("b-form-checkbox",{attrs:{id:"input-milestone-bcgeu",value:1,"unchecked-value":0,"aria-describedby":n},model:{value:e.milestone.isBCGEUMember,callback:function(t){e.$set(e.milestone,"isBCGEUMember",t)},expression:"milestone.isBCGEUMember"}},[e._v("Yes, I am a BCGEU Member")])]}}])}),r("b-form-group",{staticClass:"mb-4",attrs:{id:"fieldset-milestone-retirement",label:"Retiring This Year?","label-size":"md","label-class":"font-weight-bold","label-for":"input-milestone-retirement"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.ariaDescribedby;return[r("b-form-checkbox",{attrs:{id:"input-milestone-retirement",value:1,"unchecked-value":0,"aria-describedby":n,state:e.validate("retirement")},model:{value:e.retirement.retiringThisYear,callback:function(t){e.$set(e.retirement,"retiringThisYear",t)},expression:"retirement.retiringThisYear"}},[e._v("Yes, I am retiring in "+e._s((new Date).getFullYear()))])]}}])})],1),r("RegMenu",{attrs:{updater:this.updater}})],1)],1)},Je=[],He={name:"registration-milestone",components:{pageheader:ue,RegProgress:Ye,RegMenu:Be},data:function(){return{options:{qualifyingYears:Ie.get("qualifying-years"),milestones:Ie.get("milestones")}}},methods:{updater:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,we(t);case 2:return e.next=4,xe(t);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),lookup:function(e,t){return Ie.lookup(e,t)}},computed:{milestone:{get:function(){return this.$store.getters.getRegistration.milestone},set:function(e){this.$store.commit("setMilestone",e)}},retirement:{get:function(){return this.$store.getters.getRegistration.retirement},set:function(e){this.$store.dispatch("setRetirement",e)}},validate:function(){var e=this;return function(t){var r={qualifyingYear:function(){return!!e.milestone.qualifyingYear},milestone:function(){return!!e.milestone.selected},retirement:function(){return e.$store.dispatch("setStatus",{current:"reg-step-milestone",previous:"reg-step-identification",next:e.retirement.retiringThisYear?"reg-step-retirement":"reg-step-award-selection"}),!!e.retirement.retiringThisYear}};return"undefined"!==r[t]&&!!r[t]()}},validation:function(){return this.$store.getters.getValidation.milestone},submitted:function(){return this.$store.getters.getRegistration.submitted}}},Ze=He,Qe=Object(f["a"])(Ze,We,Je,!1,null,null,null),Xe=Qe.exports,Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("pageheader",{attrs:{header:"Registration",lead:"Your Award Selection"}}),r("RegProgress",{attrs:{active:"award-selection"}}),0===Object.keys(e.awardSelection||{}).length?r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v(" Please wait while your award selections are loaded... ")]):r("b-form",[r("b-card",{staticClass:"mb-3",attrs:{header:"Awards for Milestone Year "+e.milestone,"header-tag":"header","bg-variant":"light","header-class":"font-weight-bold"}},[r("b-card-group",{attrs:{columns:""}},e._l(e.awards,(function(t,n){return r("b-card",{key:n,attrs:{title:t.name,"img-src":e.fallbackImg,"img-alt":t.shortName,"img-top":"",disabled:e.awardSelection.awardId===t.id,"bg-variant":e.awardSelection.awardId===t.id?"info":"light","text-variant":e.awardSelection.awardId===t.id?"white":"dark"},scopedSlots:e._u([{key:"footer",fn:function(){return[r("b-button",{attrs:{block:"",type:"button",variant:e.awardSelection.awardId===t.id?"info":"dark"},on:{load:function(t){return e.updateMenu()},click:function(r){return e.selectAward(t.id)}}},[e._v(" "+e._s(e.awardSelection.awardId===t.id?"Selected":"Select Award")+" ")])]},proxy:!0}],null,!0)},[r("b-card-text",[e._v(" "+e._s(t.description)+" ")])],1)})),1)],1),r("RegMenu",{attrs:{updater:e.updater}})],1)],1)},et=[],tt={name:"registration-step-awardSelection",components:{pageheader:ue,RegProgress:Ye,RegMenu:Be},data:function(){return{fallbackImg:"https://longserviceawards.gww.gov.bc.ca/wp-content/uploads/2022/02/award-stock.jpg"}},methods:{updater:_e,selectAward:function(e){var t=Ie.getAwardType(e,this.awards);this.$store.commit("setAwardSelection",{awardId:e,options:{type:t}}),this.updateMenu()},updateMenu:function(){}},computed:{awardSelection:function(){var e=this.$store.getters.getRegistration.awardSelection,t=this.$store.getters.getRegistration.retirement.retiringThisYear,r=void 0!==t&&t;return this.$store.commit("setStatus",{current:"reg-step-award-selection",previous:r?"reg-step-retirement":"reg-step-milestone",next:e.options.type?"reg-step-award-options":"reg-step-service-pins"}),e},awards:function(){return this.$store.getters.getAwards},milestone:function(){return this.$store.getters.getMilestone},validation:function(){return this.$store.getters.getValidation.awardSelection}}},rt=tt,nt=Object(f["a"])(rt,Ke,et,!1,null,null,null),at=nt.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("pageheader",{attrs:{header:"Registration",lead:"Your Award Options"}}),r("RegProgress",{attrs:{active:"award-options"}}),0===Object.keys(e.awardOptions||{}).length?r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v(" Please wait while your award options are loaded... ")]):e._e(),this.$store.getters.isLoading||e.awardOptions[0].options?r("b-form",[r("b-card",{staticClass:"mb-3",attrs:{header:"Award Options","header-tag":"header","bg-variant":"light","header-class":"font-weight-bold"}},[r("b-form-group",e._l(e.awardOptions,(function(t,n){return r("b-form-group",{key:n,staticClass:"mb-4",attrs:{id:"input-group-award-options-"+n,label:"Select "+t.label,"label-for":"input-award-options-"+n,"label-class":"font-weight-bold"}},[r("b-form-select",{attrs:{id:"input-award-options-"+n,options:t.options,state:!!t.selected},on:{change:function(r){return e.updateOptions(t)}},model:{value:t.selected,callback:function(r){e.$set(t,"selected",r)},expression:"awardOption.selected"}}),r("b-form-invalid-feedback",{attrs:{state:!!t.selected}},[e._v(" This field is required. ")])],1)})),1)],1),r("RegMenu",{attrs:{updater:e.updater}})],1):r("b-alert",{attrs:{show:"",variant:"warning"}},[e._v(" This award does not have any options. ")])],1)},it=[],ot={name:"registration-step-awardSelection",components:{pageheader:ue,RegProgress:Ye,RegMenu:Be},methods:{updater:_e,updateOptions:function(){var e={type:this.selectedOptions.type,selections:this.awardOptions.map((function(e){return{key:e.key,value:e.selected}}))};this.$store.commit("setAwardOptions",e),console.log(this.selectedOptions)}},computed:{awardOptions:function(){var e=this.$store.getters.getPecsfOptions;console.log(e);var t={watch:[{key:"watch-size",label:"Watch Size",options:Ie.get("award-options-watch-sizes"),selected:null},{key:"watch-face",label:"Watch Face",options:Ie.get("award-options-watch-faces"),selected:null},{key:"watch-strap",label:"Watch Strap",options:Ie.get("award-options-watch-straps"),selected:null},{key:"watch-engraving",label:"Watch Engraving",options:"text-input",selected:""}],bracelet:[{key:"bracelet-size",label:"Bracelet Size",options:Ie.get("award-options-bracelet-sizes"),selected:null}],pecsf:[{key:"pecsf-region-1",label:"Choose a region for your first donation",options:e.regions,selected:null},{key:"pecsf-charity-1",label:"Choose a charity for your first donation",options:e.charities,selected:null},{key:"pecsf-region-2",label:"Choose a region for your second donation",options:e.regions,selected:null},{key:"pecsf-charity-2",label:"Choose a charity for your second donation",options:e.charities,selected:null}]},r=this.selectedOptions.type;if(!t[r])return[{options:null}];var n=t[r],a=this.selectedOptions.selections||[];return n.map((function(e){return a.forEach((function(t){t.key===e.key&&(e.selected=t.value)})),e})),n},selectedOptions:function(){return this.$store.getters.getRegistration.awardSelection.options},validate:function(){return!0},validation:function(){return this.$store.getters.getValidation.awardSelection}},beforeCreate:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("setStatus",{current:"reg-step-award-options",previous:"reg-step-award-selection",next:"reg-step-service-pins"}).catch((function(e){console.warn(e)}));case 1:case"end":return t.stop()}}),t)})))()}},lt=ot,ct=Object(f["a"])(lt,st,it,!1,null,null,null),ut=ct.exports,dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("pageheader",{attrs:{header:"Registration",lead:"Your Retirement Plans"}}),r("RegProgress",{attrs:{active:"retirement"}}),0===Object.keys(e.retirement).length||0===Object.keys(e.contact).length?r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v(" Please wait while your registration is loaded... ")]):r("b-form",[r("b-card",{staticClass:"mb-3",attrs:{header:"Retirement Details","header-tag":"header","bg-variant":"light"}},[r("p",[e._v("Let us know when you plan to retire and your personal contact information, so we have a way of contacting you.")]),r("b-form-group",{attrs:{"label-cols-lg":"3",label:"Retirement Date","label-size":"lg","label-class":"font-weight-bold"}},[r("b-form-datepicker",{attrs:{min:e.currentDate,max:e.maxDate,locale:"en",state:e.validate("retirementDate")},model:{value:e.retirement.retirementDate,callback:function(t){e.$set(e.retirement,"retirementDate",t)},expression:"retirement.retirementDate"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("retirementDate")}},[e._v(" This field is required. ")])],1),r("b-form-group",{attrs:{"label-cols-lg":"3",label:"Personal Address","label-size":"lg","label-class":"font-weight-bold"}},[r("b-form-group",{attrs:{id:"fieldset-personal-address-prefix",label:"Address Prefix","label-for":"input-personal-address-prefix"}},[r("b-form-input",{attrs:{id:"input-personal-address-prefix",placeholder:"Your address prefix"},model:{value:e.contact.personalAddressPrefix,callback:function(t){e.$set(e.contact,"personalAddressPrefix",t)},expression:"contact.personalAddressPrefix"}})],1),r("b-form-group",{attrs:{id:"fieldset-personal-address-street-address",label:"Street Address","label-for":"input-personal-address-street-address"}},[r("b-form-input",{attrs:{id:"input-personal-address-street-address",placeholder:"Your street address",state:e.validate("personalAddressStreetAddress")},model:{value:e.contact.personalAddressStreetAddress,callback:function(t){e.$set(e.contact,"personalAddressStreetAddress",t)},expression:"contact.personalAddressStreetAddress"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("personalAddressStreetAddress")}},[e._v(" This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-personal-address-postalcode",label:"Postal Code","label-for":"input-personal-address-postalcode"}},[r("b-form-input",{attrs:{id:"input-personal-address-postalcode",placeholder:"A0A 0A0",state:e.validate("personalAddressPostalCode")},model:{value:e.contact.personalAddressPostalCode,callback:function(t){e.$set(e.contact,"personalAddressPostalCode",t)},expression:"contact.personalAddressPostalCode"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("personalAddressPostalCode")}},[e._v(" Enter a valid Canadian postal code. This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-personal-address-community",label:"City or Community","label-for":"input-personal-address-community"}},[r("b-form-input",{attrs:{id:"input-personal-address-community",placeholder:"Your city or community",state:e.validate("personalAddressCommunity")},model:{value:e.contact.personalAddressCommunity,callback:function(t){e.$set(e.contact,"personalAddressCommunity",t)},expression:"contact.personalAddressCommunity"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("personalAddressCommunity")}},[e._v(" This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-personal-email",label:"Personal Email","label-for":"input-personal-email"}},[r("b-form-input",{attrs:{id:"input-personal-email",placeholder:"Your email address",state:e.validate("personalEmail")},model:{value:e.contact.personalEmail,callback:function(t){e.$set(e.contact,"personalEmail",t)},expression:"contact.personalEmail"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("personalEmail")}},[e._v(" Enter a valid email address. This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-personal-phone",label:"Phone","label-for":"input-personal-phone"}},[r("b-form-input",{attrs:{id:"input-personal-phone",placeholder:"###-###-####",state:e.validate("personalPhoneNumber")},model:{value:e.contact.personalPhoneNumber,callback:function(t){e.$set(e.contact,"personalPhoneNumber",t)},expression:"contact.personalPhoneNumber"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("personalPhoneNumber")}},[e._v(" Enter a valid phone number. ")])],1)],1)],1),r("RegMenu",{attrs:{updater:this.updater}})],1)],1)},pt=[],mt={name:"registration-step-retirement",components:{pageheader:ue,RegProgress:Ye,RegMenu:Be},methods:{updater:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe(t);case 2:return e.next=4,Ae(t);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},computed:{retirement:{get:function(){return this.$store.getters.getRegistration.retirement},set:function(e){this.$store.dispatch("setRetirement",e)}},contact:{get:function(){return this.$store.getters.getRegistration.contact},set:function(e){this.$store.dispatch("setContact",e)}},validate:function(){var e=this;return function(t){var r={retirementDate:function(){return!!e.retirement.retirementDate},personalAddressPrefix:function(){return!0},personalAddressStreetAddress:function(){return!!e.contact.personalAddressStreetAddress},personalAddressPostalCode:function(){return me(e.contact.personalAddressPostalCode)},personalAddressCommunity:function(){return!!e.contact.personalAddressCommunity},personalEmail:function(){return de(e.contact.personalEmail)},personalPhoneNumber:function(){return pe(e.contact.personalPhoneNumber)}};return"undefined"!==r[t]&&!!r[t]()}},validation:function(){return this.$store.getters.getValidation.retirement},currentDate:function(){return new Date},maxDate:function(){var e=1,t=new Date;return new Date(t.setFullYear(t.getFullYear()+e))}},beforeCreate:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("setStatus",{current:"reg-step-retirement",previous:"reg-step-milestone",next:"reg-step-award-selection"}).catch((function(e){console.warn(e)}));case 2:case"end":return t.stop()}}),t)})))()}},ft=mt,gt=Object(f["a"])(ft,dt,pt,!1,null,null,null),vt=gt.exports,bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("pageheader",{attrs:{header:"Registration",lead:"Your Service Pin"}}),r("RegProgress",{attrs:{active:"service-pins"}}),0===Object.keys(e.servicePins).length?r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v(" Please wait while your service pin information is loaded... ")]):r("b-form",[r("b-card",{staticClass:"mb-3",attrs:{header:"Service Pins","header-tag":"header","bg-variant":"light","header-class":"font-weight-bold"}},[r("p",[e._v("Your supervisor's contact information will assist us in preparing and shipping your award and service pin.")]),r("p",[r("b",[e._v("Please note that for Victoria offices, a P.O. box number is required.")])]),r("b-form-group",{attrs:{"label-cols-lg":"3",label:"Supervisor Address","label-size":"md","label-class":"font-weight-bold"}},[r("b-form-group",{attrs:{id:"fieldset-supervisor-address-pobox",label:"P.O. Box","label-for":"input-supervisor-address-pobox"}},[r("b-form-input",{attrs:{id:"input-supervisor-address-pobox",placeholder:"Supervisor P.O. Box number",disabled:""},model:{value:e.servicePins.supervisorPOBox,callback:function(t){e.$set(e.servicePins,"supervisorPOBox",t)},expression:"servicePins.supervisorPOBox"}})],1),r("b-form-group",{attrs:{id:"fieldset-supervisor-address-prefix",label:"Address Prefix","label-for":"input-supervisor-address-prefix"}},[r("b-form-input",{attrs:{id:"input-supervisor-address-prefix",placeholder:"Supervisor address prefix"},model:{value:e.servicePins.supervisorAddressPrefix,callback:function(t){e.$set(e.servicePins,"supervisorAddressPrefix",t)},expression:"servicePins.supervisorAddressPrefix"}})],1),r("b-form-group",{attrs:{id:"fieldset-supervisor-address-street-address",label:"Street Address","label-for":"input-supervisor-address-street-address"}},[r("b-form-input",{attrs:{id:"input-supervisor-address-street-address",placeholder:"Supervisor street address",state:e.validate("supervisorAddressStreetAddress")},model:{value:e.servicePins.supervisorAddressStreetAddress,callback:function(t){e.$set(e.servicePins,"supervisorAddressStreetAddress",t)},expression:"servicePins.supervisorAddressStreetAddress"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("supervisorAddressStreetAddress")}},[e._v(" This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-supervisor-address-postalcode",label:"Postal Code","label-for":"input-supervisor-address-postalcode"}},[r("b-form-input",{attrs:{id:"input-supervisor-address-postalcode",placeholder:"A0A 0A0",state:e.validate("supervisorAddressPostalCode")},model:{value:e.servicePins.supervisorAddressPostalCode,callback:function(t){e.$set(e.servicePins,"supervisorAddressPostalCode",t)},expression:"servicePins.supervisorAddressPostalCode"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("supervisorAddressPostalCode")}},[e._v(" Enter a valid Canadian postal code. This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-supervisor-address-community",label:"City or Community","label-for":"input-supervisor-address-community"}},[r("b-form-input",{attrs:{id:"input-supervisor-address-community",placeholder:"Supervisor city or community",state:e.validate("supervisorAddressCommunity")},model:{value:e.servicePins.supervisorAddressCommunity,callback:function(t){e.$set(e.servicePins,"supervisorAddressCommunity",t)},expression:"servicePins.supervisorAddressCommunity"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("supervisorAddressCommunity")}},[e._v(" This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-supervisor-email",label:"Personal Email","label-for":"input-supervisor-email"}},[r("b-form-input",{attrs:{id:"input-supervisor-email",placeholder:"Supervisor email address",state:e.validate("supervisorEmail")},model:{value:e.servicePins.supervisorEmail,callback:function(t){e.$set(e.servicePins,"supervisorEmail",t)},expression:"servicePins.supervisorEmail"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("supervisorEmail")}},[e._v(" Enter a valid email address. This field is required. ")])],1)],1)],1),r("RegMenu",{attrs:{updater:this.updater}})],1)],1)},ht=[],yt={name:"registration-step-service-pins",components:{pageheader:ue,RegProgress:Ye,RegMenu:Be},methods:{updater:ke},computed:{servicePins:{get:function(){var e=this.$store.getters.getRegistration.awardSelection;return this.$store.dispatch("setStatus",{current:"reg-step-service-pins",previous:e.options.type?"reg-step-award-options":"reg-step-award-selection",next:"reg-step-ceremony"}),this.$store.getters.getRegistration.servicePins},set:function(e){this.$store.dispatch("setServicePins",e)}},validate:function(){var e=this;return function(t){var r={retirementDate:function(){return!!e.retirement.retirementDate},supervisorAddressPrefix:function(){return!0},supervisorAddressStreetAddress:function(){return!!e.servicePins.supervisorAddressStreetAddress},supervisorAddressPostalCode:function(){return me(e.servicePins.supervisorAddressPostalCode)},supervisorAddressCommunity:function(){return!!e.servicePins.supervisorAddressCommunity},supervisorEmail:function(){return de(e.servicePins.supervisorEmail)}};return"undefined"!==r[t]&&!!r[t]()}},validation:function(){return this.$store.getters.getValidation.retirement}}},wt=yt,xt=Object(f["a"])(wt,bt,ht,!1,null,null,null),_t=xt.exports,kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("pageheader",{attrs:{header:"Registration",lead:"Your Contact Information"}}),r("RegProgress",{attrs:{active:"contact"}}),this.$store.getters.isError?e._e():r("b-form",[0===Object.keys(e.contact).length?r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v(" Please wait while your contact information is loaded... ")]):r("b-card",{staticClass:"mb-3",attrs:{"bg-variant":"light"}},[r("b-form-group",{attrs:{"label-cols-lg":"3",label:"Personal Address","label-size":"lg","label-class":"font-weight-bold"}},[r("b-form-group",{attrs:{id:"fieldset-personal-address-prefix",label:"Address Prefix","label-for":"input-personal-address-prefix"}},[r("b-form-input",{attrs:{id:"input-personal-address-prefix",placeholder:"Your address prefix"},model:{value:e.contact.personalAddressPrefix,callback:function(t){e.$set(e.contact,"personalAddressPrefix",t)},expression:"contact.personalAddressPrefix"}})],1),r("b-form-group",{attrs:{id:"fieldset-personal-address-street-address",label:"Street Address","label-for":"input-personal-address-street-address"}},[r("b-form-input",{attrs:{id:"input-personal-address-street-address",placeholder:"Your street address",state:e.validate("personalAddressStreetAddress")},model:{value:e.contact.personalAddressStreetAddress,callback:function(t){e.$set(e.contact,"personalAddressStreetAddress",t)},expression:"contact.personalAddressStreetAddress"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("personalAddressStreetAddress")}},[e._v(" This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-personal-address-postalcode",label:"Postal Code","label-for":"input-personal-address-postalcode"}},[r("b-form-input",{attrs:{id:"input-personal-address-postalcode",placeholder:"A0A 0A0",state:e.validate("personalAddressPostalCode")},model:{value:e.contact.personalAddressPostalCode,callback:function(t){e.$set(e.contact,"personalAddressPostalCode",t)},expression:"contact.personalAddressPostalCode"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("personalAddressPostalCode")}},[e._v(" Enter a valid Canadian postal code. This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-personal-address-community",label:"City or Community","label-for":"input-personal-address-community"}},[r("b-form-input",{attrs:{id:"input-personal-address-community",placeholder:"Your city or community",state:e.validate("personalAddressCommunity")},model:{value:e.contact.personalAddressCommunity,callback:function(t){e.$set(e.contact,"personalAddressCommunity",t)},expression:"contact.personalAddressCommunity"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("personalAddressCommunity")}},[e._v(" This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-personal-email",label:"Personal Email","label-for":"input-personal-email"}},[r("b-form-input",{attrs:{id:"input-personal-email",placeholder:"Your email address",state:e.validate("personalEmail")},model:{value:e.contact.personalEmail,callback:function(t){e.$set(e.contact,"personalEmail",t)},expression:"contact.personalEmail"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("personalEmail")}},[e._v(" Enter a valid email address. This field is required. ")])],1),r("b-form-group",{attrs:{id:"fieldset-personal-phone",label:"Phone","label-for":"input-personal-phone"}},[r("b-form-input",{attrs:{id:"input-personal-phone",placeholder:"###-###-####",state:e.validate("personalPhoneNumber")},model:{value:e.contact.personalPhoneNumber,callback:function(t){e.$set(e.contact,"personalPhoneNumber",t)},expression:"contact.personalPhoneNumber"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate("personalPhoneNumber")}},[e._v(" Enter a valid phone number. ")])],1)],1)],1),r("RegMenu",{attrs:{updater:this.updater}})],1)],1)},At=[],Pt={name:"registration-step-contact",components:{pageheader:ue,RegProgress:Ye,RegMenu:Be},methods:{updater:Ae},computed:{contact:{get:function(){return this.$store.getters.getRegistration.contact},set:function(e){this.$store.dispatch("setContact",e)}},validate:function(){var e=this;return function(t){var r={personalAddressPrefix:function(){return!0},personalAddressStreetAddress:function(){return!!e.contact.personalAddressStreetAddress},personalAddressPostalCode:function(){return me(e.contact.personalAddressPostalCode)},personalAddressCommunity:function(){return!!e.contact.personalAddressCommunity},personalEmail:function(){return de(e.contact.personalEmail)},personalPhoneNumber:function(){return pe(e.contact.personalPhoneNumber)}};return"undefined"!==r[t]&&!!r[t]()}},validation:function(){return this.$store.getters.getValidation.retirement}},beforeCreate:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.commit("setStatus",{current:"reg-step-contact",previous:"reg-step-ceremony",next:"reg-step-confirmation"});case 1:case"end":return t.stop()}}),t)})))()}},St=Pt,Rt=Object(f["a"])(St,kt,At,!1,null,null,null),Ct=Rt.exports,Ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("pageheader",{attrs:{header:"Registration",lead:"Long Service Awards Ceremony"}}),r("RegProgress",{attrs:{active:"ceremony"}}),this.$store.getters.isError?e._e():r("b-form",[0===Object.keys(e.declarations).length?r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v(" Please wait while your registration is loaded... ")]):r("b-card",{staticClass:"mb-3",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-4",attrs:{id:"fieldset-declarations-ceremony-opt-out",label:"Will you be attending a Long Service Awards Ceremony?","label-size":"md","label-class":"font-weight-bold","label-for":"input-declarations-declarations-ceremony-opt-out"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.ariaDescribedby;return[r("b-form-checkbox",{attrs:{id:"input-declarations-declarations-ceremony-opt-out",value:0,"unchecked-value":1,"aria-describedby":n,state:e.validate("ceremonyOptOut")},model:{value:e.declarations.ceremonyOptOut,callback:function(t){e.$set(e.declarations,"ceremonyOptOut",t)},expression:"declarations.ceremonyOptOut"}},[e._v("Yes, I will be attending an LSA Ceremony")])]}}],null,!1,536293278)})],1),r("RegMenu",{attrs:{updater:this.updater}})],1)],1)},$t=[],Et={name:"registration-ceremony",components:{pageheader:ue,RegProgress:Ye,RegMenu:Be},methods:{updater:Pe},computed:{declarations:{get:function(){return this.$store.getters.getRegistration.declarations},set:function(e){this.$store.commit("setDeclarations",e)}},validate:function(){var e=this;return function(t){var r={ceremonyOptOut:function(){var t=e.$store.getters.getRegistration.declarations.ceremonyOptOut,r=void 0!==t&&t;return e.$store.dispatch("setStatus",{current:"reg-step-ceremony",previous:"reg-step-service-pins",next:r?"reg-step-contact":"reg-step-confirmation"}),!e.declarations.ceremonyOptOut}};return"undefined"!==r[t]&&!!r[t]()}},validation:function(){return this.$store.getters.getValidation.declarations}},beforeCreate:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.$store.getters.getRegistration.declarations.ceremonyOptOut,n=void 0!==r&&r,e.$store.dispatch("setStatus",{current:"reg-step-ceremony",previous:"reg-step-service-pins",next:n?"reg-step-contact":"reg-step-confirmation"}).catch((function(e){console.warn(e)}));case 2:case"end":return t.stop()}}),t)})))()}},It=Et,Nt=Object(f["a"])(It,Ot,$t,!1,null,null,null),jt=Nt.exports,Mt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("pageheader",{attrs:{header:"Registration",lead:"Confirm Your Registration"}}),r("RegProgress",{attrs:{active:"confirmation"}}),this.$store.getters.isError?e._e():r("b-form",[0===Object.keys(e.registration||{}).length?r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v(" Please wait while your registration is loaded... ")]):r("div",{staticClass:"mb-3"},[r("b-card",[r("b-container",{staticClass:"p-3"},[r("b-row",{staticClass:"mb-4"},[r("b-col",[r("h3",{staticClass:"text-center"},[e._v(" Registration Details ")])])],1),r("b-row",[r("b-col",{attrs:{cols:"3"}},[r("h5",[e._v("Identification")])]),r("b-col",[r("b-table",{attrs:{stacked:"",items:[e.registration.identification],fields:[{key:"employeeNumber",label:"Employee Number"},{key:"fullName",label:"Full Name"},{key:"governmentEmail",label:"Government Email"},{key:"governmentPhoneNumber",label:"Government Phone"},{key:"organizationId",label:"Ministry/Organization"},{key:"branchName",label:"Branch"}],striped:"",responsive:"sm","primary-key":"id"},scopedSlots:e._u([{key:"cell(organizationId)",fn:function(t){return[e._v(" "+e._s(e.lookupOrganization(t.item.organizationId))+" ")]}}],null,!1,84502)})],1)],1),r("b-row",[r("b-col",{attrs:{cols:"3"}},[r("h5",[e._v("Milestone")])]),r("b-col",[r("b-table",{attrs:{stacked:"",items:[e.registration.milestone],fields:[{key:"selected",label:"Your Milestone"},{key:"qualifyingYear",label:"Your Qualifying Year"},{key:"isBCGEUMember",label:"BCGEUMember"}],striped:"",responsive:"sm","primary-key":"id"},scopedSlots:e._u([{key:"cell(isBCGEUMember)",fn:function(t){return[e._v(" "+e._s(t.item.isBCGEUMember?"Yes":"No")+" ")]}}],null,!1,2276531333)})],1)],1),r("b-row",[r("b-col",{attrs:{cols:"3"}},[r("h5",[e._v("Award")])]),r("b-col",[e.lookupAward(e.registration.awardSelection.awardId)?r("b-table",{attrs:{stacked:"",items:[e.lookupAward(e.registration.awardSelection.awardId)],fields:[{key:"name",label:"Award Name"},{key:"description",label:"Description"}],striped:"",responsive:"sm","primary-key":"id"}}):e._e()],1)],1),r("b-row",[r("b-col",{attrs:{cols:"3"}},[r("h5",[e._v("Options")])]),r("b-col",[r("b-table",{attrs:{stacked:"",items:[e.registration.awardSelection.options],striped:"",responsive:"sm","primary-key":"id"}})],1)],1),r("b-row",[r("b-col",{attrs:{cols:"3"}},[r("h5",[e._v("Supervisor Contact Info (Service Pin)")])]),r("b-col",[r("b-table",{attrs:{stacked:"",items:[e.registration.servicePins],fields:[{key:"supervisorFullName",label:"Full Name"},{key:"supervisorPOBox",label:"P.O. Box"},{key:"supervisorAddressPrefix",label:"Prefix"},{key:"supervisorAddressStreetAddress",label:"Street"},{key:"supervisorAddressPostalCode",label:"Postal Code"},{key:"supervisorAddressCommunity",label:"Community"},{key:"supervisorEmail",label:"Email"}],striped:"",responsive:"sm","primary-key":"id"}})],1)],1),r("b-row",[r("b-col",{attrs:{cols:"3"}},[r("h5",[e._v("Personal Contact Info")])]),r("b-col",[r("b-table",{attrs:{stacked:"",items:[e.registration.contact],fields:[{key:"personalFullName",label:"Full Name"},{key:"personalAddressPrefix",label:"Prefix"},{key:"personalAddressStreetAddress",label:"Street"},{key:"personalAddressPostalCode",label:"Postal Code"},{key:"personalAddressCommunity",label:"Community"},{key:"personalEmail",label:"Email"},{key:"personalPhoneNumber",label:"Phone"}],striped:"",responsive:"sm","primary-key":"id"}})],1)],1),r("b-row",[r("b-col",{attrs:{cols:"3"}},[r("h5",[e._v("Ceremony")])]),r("b-col",[r("b-table",{attrs:{stacked:"",items:[e.registration.declarations],fields:[{key:"ceremonyOptOut",label:"I plan to attend the Awards Ceremony"}],striped:"",responsive:"sm","primary-key":"id"},scopedSlots:e._u([{key:"cell(ceremonyOptOut)",fn:function(t){return[e._v(" "+e._s(t.item.ceremonyOptOut?"Yes":"No")+" ")]}}],null,!1,2191929157)})],1)],1)],1)],1),r("b-card",{staticClass:"mb-3",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-4",attrs:{id:"fieldset-declarations-is-declared",label:"Declaration","label-size":"md","label-class":"font-weight-bold","label-for":"input-declarations-is-declared"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.ariaDescribedby;return[r("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus in arcu erat. Fusce turpis nibh, vehicula eget urna accumsan, placerat tincidunt tortor. Vivamus ante ligula, commodo eu nulla a, egestas vehicula erat. Vivamus pharetra tellus ligula, ac euismod neque venenatis nec. Cras blandit est nec convallis ultricies. Nam ut laoreet ante. Integer sed tempus sapien. Phasellus sodales orci ac dui eleifend aliquam.")]),r("b-form-checkbox",{attrs:{id:"input-declarations-is-declared",value:1,"unchecked-value":0,"aria-describedby":n,state:e.validate("isDeclared")},model:{value:e.declarations.isDeclared,callback:function(t){e.$set(e.declarations,"isDeclared",t)},expression:"declarations.isDeclared"}},[e._v("I declare the information provided in this registration to be accurate.")]),r("b-form-invalid-feedback",{attrs:{state:e.validate("isDeclared")}},[e._v(" This field is required. ")])]}}],null,!1,3707081606)}),r("b-form-group",{staticClass:"mb-4",attrs:{id:"fieldset-declarations-survey-participation",label:"Would you like to participate in our survey?","label-size":"md","label-class":"font-weight-bold","label-for":"input-declarations-survey-participation"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.ariaDescribedby;return[r("b-form-checkbox",{attrs:{id:"input-declarations-survey-participation",value:1,"unchecked-value":0,"aria-describedby":n,state:e.validate("surveyParticipation")},model:{value:e.declarations.surveyParticipation,callback:function(t){e.$set(e.declarations,"surveyParticipation",t)},expression:"declarations.surveyParticipation"}},[e._v("Yes, I would like to participate in the LSA survey")])]}}],null,!1,832414678)})],1),r("RegMenu",{attrs:{updater:this.updater,"submit-label":"Submit Registration"}})],1)],1)],1)},Yt=[],zt={name:"registration-declarations",components:{pageheader:ue,RegProgress:Ye,RegMenu:Be},computed:{registration:function(){return this.$store.getters.getRegistration},declarations:{get:function(){var e=this.$store.getters.getRegistration.declarations.ceremonyOptOut,t=void 0!==e&&e;return this.$store.dispatch("setStatus",{current:"reg-step-confirmation",previous:t?"reg-step-contact":"reg-step-ceremony",next:null}),this.$store.getters.getRegistration.declarations},set:function(e){this.$store.commit("setDeclarations",e)}},organizations:function(){return this.$store.getters.getOrganizations},awards:function(){return this.$store.getters.getAwards},validate:function(){var e=this;return function(t){var r={isDeclared:function(){return!!e.declarations.isDeclared},surveyParticipation:function(){return!!e.declarations.surveyParticipation}};return"undefined"!==r[t]&&!!r[t]()}}},methods:{updater:Pe,lookup:function(e,t){return Ie.lookup(e,parseInt(t))},lookupOrganization:function(e){return Ie.lookup("organizations",parseInt(e),{organizations:this.organizations})},lookupAward:function(e){return Ie.getAwardDetails(parseInt(e),this.awards)}}},Dt=zt,qt=Object(f["a"])(Dt,Mt,Yt,!1,null,null,null),Tt=qt.exports;
/*!
 * Routes (Vue)
 * File: routes.js
 * Copyright(c) 2022 BC Gov
 * MIT Licensed
 */
function Lt(e){var t="Long Service Awards Registration\n";return{title:"".concat(e," - ").concat(t),metaTags:[{name:"icon",content:"favicon.ico"}]}}var Bt=[{path:"/",name:"home",component:V,meta:Lt("Start Your Registration")},{path:"/recipients/start",redirect:"/recipients/identification"},{path:"/recipients/identification",name:"reg-step-identification",component:Fe,props:{header:"Your Profile",lead:"Identification information"},meta:Lt("Your Identification")},{path:"/recipients/milestone",name:"reg-step-milestone",component:Xe,props:{header:"Your Milestone",lead:"Your milestone information"},meta:Lt("Recipient Milestone")},{path:"/recipients/award",name:"reg-step-award-selection",component:at,props:{header:"Your Award",lead:"Your award information"},meta:Lt("Recipient Award")},{path:"/recipients/award-options",name:"reg-step-award-options",component:ut,meta:Lt("Recipient Award Options")},{path:"/recipients/retirement",name:"reg-step-retirement",component:vt,meta:Lt("Recipient Retirement")},{path:"/recipients/service-pins",name:"reg-step-service-pins",component:_t,meta:Lt("Recipient Service Pin")},{path:"/recipients/ceremony",name:"reg-step-ceremony",component:jt,meta:Lt("Ceremony")},{path:"/recipients/contact",name:"reg-step-contact",component:Ct,meta:Lt("Contact Information")},{path:"/recipients/confirmation",name:"reg-step-confirmation",component:Tt,meta:Lt("Confirmation")},{path:"/401",name:"unauthorized",component:re,meta:Lt("Unauthorized")},{path:"*",name:"page-not-found",component:Z,meta:Lt("Page Not Found")}],Ut=Bt,Vt=(r("4e82"),{current:null,next:null,previous:null}),Gt={organizations:[]},Ft={},Wt={},Jt={},Ht={},Zt=[],Qt={awardId:null,options:{type:null}},Xt={},Kt={},er={},tr={"reg-step-identification":!0,"reg-step-milestone":!0,"reg-step-retirement":!0,"reg-step-award-selection":!0,"reg-step-award-options":!0,"reg-step-service-pins":!0,"reg-step-ceremony":!0,"reg-step-contact":!0,"reg-step-confirmation":!0},rr={text:"",type:"",spinner:!1},nr={recipientId:null,status:Vt,user:Ft,options:Gt,metadata:{},identification:Wt,milestone:Jt,retirement:Ht,awardSelection:Qt,servicePins:Xt,contact:Kt,declarations:er,awards:Zt,pecsfOptions:{},validation:tr,message:rr,error:!1,loading:!1},ar={isAuthenticated:function(e){return!!e.user&&!!e.user.guid&&!!e.user.username&&!!e.user.role},isAdmin:function(e){return"administrator"===e.user.role||"super-administrator"===e.user.role},isSuperAdmin:function(e){return"super-administrator"===e.user.role},getMessage:function(e){return e.message||rr},isLoading:function(e){return e.loading},isError:function(e){return e.error},getUser:function(e){var t=e.user,r=t.guid,n=void 0===r?"":r,a=t.username,s=void 0===a?"":a,i=t.firstname,o=void 0===i?"":i,l=t.lastname,c=void 0===l?"":l,u=t.email,d=void 0===u?"":u,p=t.role,m=void 0===p?"":p;return{guid:n,username:s,firstname:o,lastname:c,email:d,role:m}},getOrganizations:function(e){function t(e,t){return e.shortName<t.shortName?-1:e.shortName>t.shortName?1:0}var r=e.options.organizations.sort(t).map((function(e){return{text:"[".concat(e.shortName,"] ").concat(e.name),value:e.id}}))||Gt;return r.unshift({value:null,text:"Please select a Ministry"}),r},getMilestone:function(e){return e.milestone.selected||localStorage.getItem("milestone")},getAwards:function(e){return e.awards},getPecsfOptions:function(e){return e.pecsfOptions},getStatus:function(e){return e.status},getRegistration:function(e){return{recipientId:e.recipientId,metadata:e.metadata,identification:e.identification,milestone:e.milestone,retirement:e.retirement,awardSelection:e.awardSelection,servicePins:e.servicePins,contact:e.contact,declarations:e.declarations}},getValidation:function(e){return e.validation}},sr={authenticate:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.state,t.prev=1,t.next=4,be();case 4:return a=t.sent,t.next=7,r("setUser",a);case 7:return t.abrupt("return",a);case 10:return t.prev=10,t.t0=t["catch"](1),t.next=15,r("setMessage",{text:"Please sign in to access this site.",type:"danger"});case 15:t.next=19;break;case 17:return t.next=19,r("setUser",{guid:Object({NODE_ENV:"production",BASE_URL:"/registration/"}).VUE_APP_TEST_GUID,username:Object({NODE_ENV:"production",BASE_URL:"/registration/"}).VUE_APP_TEST_IDIR,role:"super-administrator"});case 19:return t.abrupt("return",n.user);case 20:case"end":return t.stop()}}),t,null,[[1,10]])})))()},initRegistration:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n,a,s,i,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,n=e.state,r("resetRegistration"),r("setMessage",{text:"Starting a new registration!",type:"success"}),a=n.user||{},s=a.guid,i=void 0===s?"":s,o=a.username,l=void 0===o?"":o,r("setIdentification",{guid:i,idir:l});case 5:case"end":return t.stop()}}),t)})))()},loadRegistration:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n,a,s,i,o,l,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=e.state,n("resetRegistration"),n("setMessage",{text:"Loading Registration data...",type:"info",spinner:!0}),a.loading=!0,r.next=6,he(t,a.milestone.selected,a.awardSelection);case 6:if(s=r.sent,a.loading=!1,console.log("Loading Destructured Registration:",s),n("setRegId",s.recipientId),n("setMetadata",s.metadata),n("setIdentification",s.identification),n("setMilestone",s.milestone),n("setRetirement",s.retirement),n("setAwardSelection",s.awardSelection),n("setServicePins",s.servicePins),n("setContact",s.contact),n("setDeclarations",s.declarations),!a.milestone.selected){r.next=23;break}return r.next=21,Se(a.milestone.selected);case 21:i=r.sent,n("setAwards",i);case 23:if(o=localStorage.getItem("award"),!o){r.next=29;break}return r.next=27,Re();case 27:l=r.sent,n("setPecsfOptions",l);case 29:return r.next=31,Ce();case 31:c=r.sent,n("setOptions",c),n("resetMessage");case 34:case"end":return r.stop()}}),r)})))()},saveRegistration:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=e.state,r.prev=1,n("setError",!1),n("setLoading",!0),n("setMessage",{text:"Saving Registration data...",type:"info",spinner:!0}),s={recipientId:a.recipientId,identification:a.identification,milestone:a.milestone,retirement:a.retirement,awardSelection:a.awardSelection,servicePins:a.servicePins,contact:a.contact,declarations:a.declarations},console.log("Saving:",s),r.next=9,t(s);case 9:n("setMessage",{text:"Registration saved.",type:"success",spinner:!1}),r.next=17;break;case 12:r.prev=12,r.t0=r["catch"](1),console.error(r.t0),console.warn("Error",r.t0.message),n("setMessage",{text:"Registration could not be saved.",type:"danger",spinner:!1});case 17:return r.prev=17,n("setLoading",!1),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[1,12,17,20]])})))()},loadOptions:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Ce();case 3:n=t.sent,r("setOptions",n);case 5:case"end":return t.stop()}}),t)})))()},setMessage:function(e,t){var r=e.commit,n=t||{},a=n.text,s=void 0===a?"":a,i=n.type,o=void 0===i?"":i,l=n.spinner,c=void 0!==l&&l,u=n.dismissible,d=void 0!==u&&u;r("setMessage",{text:s,type:o,spinner:c,dismissible:d})},resetMessage:function(e){var t=e.commit;t("resetMessage")},setStatus:function(e,t){var r=e.commit,n=t||{},a=n.current,s=void 0===a?null:a,i=n.next,o=void 0===i?null:i,l=n.previous,c=void 0===l?null:l;r("setStatus",{current:s,previous:c,next:o})},resetRegistration:function(e){var t=e.commit;t("resetRegistration")},loadAwards:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,n("setError",!1),n("setLoading",!0),n("setMessage",{text:"Loading Awards for milestone year ".concat(t,"..."),type:"info",spinner:!0}),r.next=6,Se(t);case 6:a=r.sent,a?(n("setAwards",a||[]),n("resetMessage"),n("setLoading",!1)):(n("setMessage",{text:"Awards could not be found for this milestone.",type:"danger"}),n("setError",!0),n("setLoading",!1));case 8:case"end":return r.stop()}}),r)})))()},handleError:function(e,t){var r=e.commit;r("setMessage",t),r("setError",!0)}},ir={setMessage:function(e,t){e.message=t},resetMessage:function(e){e.message=rr},setError:function(e,t){e.error=t},setLoading:function(e,t){e.loading=t},setUser:function(e,t){e.user=t},setOptions:function(e,t){e.options=t},setAwardOptions:function(e,t){e.awardSelection.options=t},setPecsfOptions:function(e,t){e.pecsfOptions=t},setStatus:function(e,t){e.status=t},setRegId:function(e,t){e.recipientId=t},setMetadata:function(e,t){e.metadata=Object.assign({},e.metadata,t)},setIdentification:function(e,t){e.identification=Object.assign({},e.identification,t)},setMilestone:function(e,t){var r=t.milestones,n=void 0===r?null:r;localStorage.setItem("milestone",n),e.milestone=Object.assign({},e.milestone,t)},setRetirement:function(e,t){e.retirement=Object.assign({},e.retirement,t)},setAwardSelection:function(e,t){var r=t.awardId,n=void 0===r?null:r;localStorage.setItem("award",n),e.awardSelection=Object.assign({},e.awardSelection,t)},setServicePins:function(e,t){e.servicePins=Object.assign({},e.servicePins,t)},setDeclarations:function(e,t){e.declarations=Object.assign({},e.declarations,t)},setContact:function(e,t){e.contact=Object.assign({},e.contact,t)},setAwards:function(e,t){e.awards=Object.assign([],e.awards,t)},resetRegistration:function(e){e.identification=Wt,e.milestone=Jt,e.retirement=Ht,e.awardSelection=Qt,e.servicePins=Xt,e.contact=Kt,e.declarations=er},setValidation:function(e,t,r){e.validation[t]=r}},or={state:nr,getters:ar,actions:sr,mutations:ir},lr=r("5f5b"),cr=(r("f9e3"),r("2dd8"),r("7db0"),r("fb6a"),r("a630"),r("3ca3"),r("b64b"),function(e,t,r){var n=e.matched.slice().reverse().find((function(e){return e.meta&&e.meta.title})),a=e.matched.slice().reverse().find((function(e){return e.meta&&e.meta.metaTags})),s=t.matched.slice().reverse().find((function(e){return e.meta&&e.meta.metaTags}));if(n?document.title=n.meta.title:s&&(document.title=s.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map((function(e){return e.parentNode.removeChild(e)})),!a)return r();a.meta.metaTags.map((function(e){var t=document.createElement("meta");return Object.keys(e).forEach((function(r){t.setAttribute(r,e[r])})),t.setAttribute("data-vue-router-controlled",""),t})).forEach((function(e){return document.head.appendChild(e)})),r()});a["default"].use(lr["a"]),a["default"].use(D["a"]),a["default"].use(s["a"]),a["default"].config.productionTip=!1;var ur=new D["a"]({base:"/registration",mode:"history",routes:Ut}),dr=new s["a"].Store(or);ur.beforeEach(cr),new a["default"]({store:dr,el:"#app",router:ur,render:function(e){return e(z)},beforeCreate:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dr.dispatch("authenticate");case 3:return t=e.sent,e.next=6,dr.dispatch("loadRegistration",t.guid);case 6:e.next=30;break;case 8:if(e.prev=8,e.t0=e["catch"](0),!e.t0.response){e.next=21;break}if(404!==e.t0.response.status){e.next=16;break}return e.next=14,dr.dispatch("initRegistration");case 14:e.next=19;break;case 16:return console.warn("Error",e.t0.message),e.next=19,dr.dispatch("handleError",{text:"An error occurred. Your request could not be completed.",type:"danger"});case 19:e.next=30;break;case 21:if(!e.t0.request){e.next=27;break}return console.warn(e.t0.request),e.next=25,dr.dispatch("handleError",{text:"An error occurred. Your request could not be completed.",type:"danger"});case 25:e.next=30;break;case 27:return console.warn("Error",e.t0.message),e.next=30,dr.dispatch("handleError",{text:"An error occurred. Your request could not be completed.",type:"danger"});case 30:case"end":return e.stop()}}),e,null,[[0,8]])})))()}})},"85ec":function(e,t,r){},"9d4c":function(e,t,r){},b46d:function(e,t,r){"use strict";r("9d4c")},bdcd:function(e,t,r){"use strict";r("001e")},e3cd:function(e,t,r){e.exports=r.p+"img/wiw-white-text.2ab74465.svg"}});
//# sourceMappingURL=app.42ea4ff8.js.map